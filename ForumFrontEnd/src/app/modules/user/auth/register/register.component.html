<section class="testimonial py-5">
  <div class="container">
    <div class="row">
      <div class="main col-12 col-sm-12 col-md-12" [ngSwitch]="step">
        <h1 class="text-center" style="color: red">
          {{this.translate.data.label.get_started.step | translate}} {{step}}
        </h1>
        <div class="progress">
          <div [ngClass]="{'progreso1': step === 2,
                           'progreso2': step === 3,
                           'progreso3': step === 4 }"
               class="custom-progress progress-bar progress-bar-striped"
               role="progressbar"
               aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <div class="block1">
          <div id="b1" class="text-center activecirculo">
            <i class="icon1"></i>
          </div>
        </div>
        <div id="block2A" class="block2" [ngClass]="{'activeblock': step >= 2}">
          <div id="b2" class="text-center activecirculo">
            <i class="icon2"></i>
          </div>
        </div>
        <div id="block3A" class="block3" [ngClass]="{'activeblock': step >= 3}">
          <div id="b3" class="text-center activecirculo">
            <i class="icon3"></i>
          </div>
        </div>
        <div id="block4A" class="block4" [ngClass]="{'activeblock': step >= 4}">
          <div id="b4" class="text-center activecirculo">
            <i id="icon4"></i>
          </div>
        </div>
      </div>
    </div>


    <div class="row progress-content">

        <div [hidden]="step!==1" class="container contact-form">
          <!--<div class="contact-image">-->
            <!--<img src="https://image.ibb.co/kUagtU/rocket_contact.png" alt="rocket_contact"/>-->
          <!--</div>-->
          <form>
            <h3>{{this.translate.data.label.get_started.your_account_info | translate}}</h3>
            <div class="row">
              <div class="col-xs-12 col-md-12" style="display: inline">


                <div class="form-row">
                <!--email-->

                <div class="form-group col-md-6 cross-validation"
                     [class.cross-validation-error]="email.touched || email.dirty">
                  <input type="email" class="form-control" id="email" name="email"
                         placeholder="{{this.translate.data.label.email | translate}}"
                         #email="ngModel" [(ngModel)]="userInfo.emailAddress" [required]="true"
                         [pattern]="emailPattern" [disabled]="isSocialUser">

                  <div *ngIf="email.touched">
                      <span class="help-block" *ngIf="email.value === ''">
                        {{this.translate.data.validation.email.required | translate}}
                      </span>
                      <span class="help-block" *ngIf="email.errors?.pattern">
                        {{this.translate.data.validation.email.pattern | translate}}
                      </span>
                  </div>
                </div>

                <!--username-->
                  <div class="form-group col-md-6 cross-validation"
                       [class.cross-validation-error]="userName.touched || userName.dirty">
                    <input id="userName" name="userName"
                           placeholder="{{this.translate.data.label.username | translate}}"
                           class="form-control" type="text" #userName="ngModel" [(ngModel)]="userInfo.userName"
                           [required]="true"
                           [pattern]="userNamePattern">

                    <div *ngIf="userName.touched">
                      <span class="help-block" *ngIf="userName.value === ''">
                        {{this.translate.data.validation.username.required | translate}}
                      </span>
                            <span class="help-block" *ngIf="userName.errors?.pattern">
                        {{this.translate.data.validation.username.pattern | translate}}
                      </span>
                    </div>
                  </div>
                </div>

                <div class="form-row">
                <div class="form-group col-md-6 cross-validation"
                     [class.cross-validation-error]="password.touched || password.dirty">
                  <input id="password" name="password" placeholder="{{this.translate.data.label.password | translate}}"
                         class="form-control" type="password" #password="ngModel" [(ngModel)]="userInfo.password"
                         [required]="true" [minlength]="6">

                  <div *ngIf="password.touched">
                <span class="help-block" *ngIf="password.value.length == 0">
                  {{this.translate.data.validation.password.required | translate}}
                </span>
                    <span class="help-block" *ngIf="password.value.length > 0 && password.value.length < 6">
                  {{this.translate.data.validation.password.minlength | translate}}
                </span>
                  </div>

                </div>
                <div class="form-group col-md-6">
                  <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
                         placeholder="{{this.translate.data.label.confirm_password | translate}}" [minlength]="6"
                         #confirmPassword="ngModel" [(ngModel)]="userInfo.confirmPassword" [required]="true">

                  <div *ngIf="password.touched">
                <span class="help-block"
                      *ngIf="password.value !== '' && password.value !== confirmPassword.value && confirmPassword.value !== ''">
                    {{this.translate.data.validation.confirm_password.invalid | translate}}
                </span>
                  </div>
                </div>
                </div>


                <div class="form-row">
                <!--phone number-->
                <div class="form-group col-md-6 cross-validation"
                     [class.cross-validation-error]="phone.touched || phone.dirty">
                  <input id="phone" name="phone"
                         placeholder="{{this.translate.data.label.phone_no | translate}}"
                         class="form-control" type="text" #phone="ngModel" [(ngModel)]="userInfo.phone"
                         [pattern]="phoneNumberPattern">

                  <div *ngIf="phone.touched">
                    <span class="help-block" *ngIf="phone.errors?.pattern">
                        {{this.translate.data.validation.phone_no.pattern | translate}}
                      </span>
                  </div>
                </div>

                <!--Language-->
                <div class="form-group col-md-6 cross-validation"
                     [class.cross-validation-error]="lang.touched || lang.dirty">
                  <select class="form-control" id="lang" name="lang"
                          [ngModel]="userInfo.lang" [value]='en' #lang = "ngModel">
                    <option value="en"> {{this.translate.data.language.en | translate}}</option>
                    <option value="vi"> {{this.translate.data.language.vi | translate}}</option>
                  </select>
                </div>
                </div>
              </div>
            </div>
          </form>
        </div>

      <div [hidden]="step!==2" class="container contact-form">
        <!--<div class="contact-image">-->
          <!--<img src="https://image.ibb.co/kUagtU/rocket_contact.png" alt="rocket_contact"/>-->
        <!--</div>-->
        <form method="post" name="profile" enctype="multipart/form-data">
          <h3>{{this.translate.data.label.get_started.your_profile | translate}}</h3>
          <div class="row">
            <div class="col-md-3 text-center">
              <div class="avatar-container">
                <img class="img-avatar" src="{{imgUrl?imgUrl:'http://localhost:8080/files/default-avatar.png'}}" alt="avatar">
                <!--<img class="img-avatar" src="http://localhost:8080/files/usr_avt_e5c910b2e0784f0f84c5b2b51ff80564.jpg" alt="avatar">-->
                <input type="file" accept="image/*" #file [hidden]="true" (change)="readUrl($event)">
                <button class="btn btnContact" style="margin-top: 0.5rem;width: 70%" (click)="file.click()">
                  {{this.translate.data.button.change | translate}}
                </button>
              </div>
            </div>
            <div class="col-md-9">
              <div class="row">
                <div class="form-group col-md-6 cross-validation"
                     [class.cross-validation-error]="firstName.touched || firstName.dirty">
                  <input id="firstName" name="firstName" placeholder="{{this.translate.data.label.first_name | translate}}"
                         class="form-control" type="text" #firstName="ngModel" [(ngModel)]="userInfo.firstName" [required]="true"
                         [pattern]="namePattern">

                  <div *ngIf="firstName.touched">
                <span class="help-block" *ngIf="firstName.value === ''">
                  {{this.translate.data.validation.first_name.required | translate}}
                </span>
                    <span class="help-block" *ngIf="firstName.errors?.pattern">
                  {{this.translate.data.validation.first_name.pattern | translate}}
                </span>
                  </div>
                </div>

                <div class="form-group col-md-6 cross-validation"
                     [class.cross-validation-error]="lastName.touched || lastName.dirty">
                  <input type="text" class="form-control" id="lastName" name="lastName"
                         placeholder="{{this.translate.data.label.last_name | translate}}"
                         #lastName="ngModel" [(ngModel)]="userInfo.lastName" [required]="true" [pattern]="namePattern">

                  <div *ngIf="lastName.touched">
                <span class="help-block" *ngIf="lastName.value === ''">
                  {{this.translate.data.validation.last_name.required | translate}}
                </span>
                    <span class="help-block" *ngIf="lastName.errors?.pattern">
                  {{this.translate.data.validation.last_name.pattern | translate}}
                </span>
                  </div>
                </div>
                <div class="form-group col-md-12 cross-validation">
                  <textarea type="text" class="form-control" id="description" name="description"
                         placeholder="{{this.translate.data.label.description | translate}}"
                         #description="ngModel" [(ngModel)]="userInfo.description" style="height: 150px">
                  </textarea>
                </div>
            </div>
            </div>
          </div>
        </form>
      </div>

      <div [hidden]="step!==3" class="container contact-form" id="step-3">
        <!--<div class="contact-image">-->
          <!--<img src="https://image.ibb.co/kUagtU/rocket_contact.png" alt="rocket_contact"/>-->
        <!--</div>-->
        <form method="post">
          <h3 textContent="label.get_started.your_favourite_topic"></h3>

          <div class="panel-group">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" href="#filterBookmark">
                    Filter
                  </a>
                  <a id="test" class="pull-right" data-toggle="collapse" href="#filterBookmark">
                    <span class="fa fa-filter"></span>
                  </a>
                </h4>
              </div>

              <div id="filterBookmark" class="panel-collapse collapse in">
                <div class="panel-body">
                  <div class="filter-setting">

                    <div class="form-row">
                      <label class="col-xs-4">Sort Type</label>
                      <div class="col-xs-8">
                        <div class="input-group">
                          <div class="btn-group">
                            <button class="btn btn-primary btn-sm"
                                    (click)="getAllTag(pagingRequest.searchKey,2,pagingRequest.ascSort,pagingRequest.pageNumber)"
                                    [ngClass]="pagingRequest.sortCase === 2 ? 'active' :'notActive'">No.Article</button>
                            <button class="btn btn-primary btn-sm"
                                    (click)="getAllTag(pagingRequest.searchKey,3,pagingRequest.ascSort,pagingRequest.pageNumber)"
                                    [ngClass]="pagingRequest.sortCase === 3 ? 'active' :'notActive'">No.Question</button>
                            <button class="btn btn-primary btn-sm"
                                    (click)="getAllTag(pagingRequest.searchKey,4,pagingRequest.ascSort,pagingRequest.pageNumber)"
                                    [ngClass]="pagingRequest.sortCase === 4 ? 'active' :'notActive'">No.Follower</button>
                            <button class="btn btn-primary btn-sm"
                                    (click)="getAllTag(pagingRequest.searchKey,5,pagingRequest.ascSort,pagingRequest.pageNumber)"
                                    [ngClass]="pagingRequest.sortCase === 5 ? 'active' :'notActive'">Tag Name</button>
                            <button class="btn btn-primary btn-sm"
                                    (click)="getAllTag(pagingRequest.searchKey,1,pagingRequest.ascSort,pagingRequest.pageNumber)"
                                    [ngClass]="pagingRequest.sortCase === 1 ? 'active' :'notActive'">Create Date</button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <hr class="line"/>

                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row text-center">
            <div class="topic-container col-6 col-sm-4 col-md-3 text-center"
                 *ngFor="let tag of tagList; let i = index;">
              <div class="col-xs-12 col-md-12 topic-label">
                <h4><a href="javascript:void(0)" [routerLink]="['/tag/'+tag.tagId]">{{tag.tagName}}</a></h4>
                <div class="top-author-stat" style="margin-top: 10px">
                    <span class="stats-item text-muted">
                    <i aria-hidden="true" class="fa fa-newspaper-o"></i>&nbsp;{{tag.numOfArticle}}</span>
                  <span class="stats-item text-muted">
                        <i aria-hidden="true" class="fa fa-question-circle"></i>&nbsp;{{tag.numOfQuestion}}</span>
                  <span class="stats-item text-muted">
                        <i aria-hidden="true" class="fa fa-star"></i>&nbsp;{{tag.numOfFollower}}</span>
                </div>
                <div [ngStyle]="{'background': tag.followStatus ? '#34CF7A' : '#2589cc'}"
                     class="follow" (click)="followAction(tag.tagId, tag.followStatus)">
                  <i class="fa fa-star" *ngIf="tag.followStatus == false"></i> &nbsp;
                  <span *ngIf="tag.followStatus == false" textContent="tag.label.follow"></span>
                  <i class="fa fa-check" *ngIf="tag.followStatus == true"></i> &nbsp;
                  <span *ngIf="tag.followStatus == true" textContent="tag.label.following"></span>
                </div>
              </div>
            </div>
          </div>

        </form>
      </div>

      <div [hidden]="step!==4" class="container contact-form">
        <!--<div class="contact-image">-->
          <!--<img src="https://image.ibb.co/kUagtU/rocket_contact.png" alt="rocket_contact"/>-->
        <!--</div>-->
        <form method="post">
          <h3>{{this.translate.data.label.get_started.top_author | translate}}</h3>
          <div class="row">
            <div class="col-md-3 col-sm-4 col-6">
              <div class="avatar-container text-center">
                <img class="img-avatar" src="http://thuthuatphanmem.vn/uploads/2018/04/10/avatar-doi-dep-7_015655528.jpg" alt="avatar">
                <p style="margin: 5px">This is position</p>
                <button class="btn btnContact">Follow</button>
              </div>
            </div>

            <div class="col-md-3 col-sm-4 col-6">
              <div class="avatar-container text-center">
                <img class="img-avatar" src="http://thuthuatphanmem.vn/uploads/2018/04/10/avatar-doi-dep-7_015655528.jpg" alt="avatar">
                <p style="margin: 5px">This is position</p>
                <button class="btn btnContact">Follow</button>
              </div>
            </div>

            <div class="col-md-3 col-sm-4 col-6">
              <div class="avatar-container text-center">
                <img class="img-avatar" src="http://thuthuatphanmem.vn/uploads/2018/04/10/avatar-doi-dep-7_015655528.jpg" alt="avatar">
                <p style="margin: 5px">This is position</p>
                <button class="btn btnContact">Follow</button>
              </div>
            </div>

            <div class="col-md-3 col-sm-4 col-6">
              <div class="avatar-container text-center">
                <img class="img-avatar" src="http://thuthuatphanmem.vn/uploads/2018/04/10/avatar-doi-dep-7_015655528.jpg" alt="avatar">
                <p style="margin: 5px">This is position</p>
                <button class="btn btnContact">Follow</button>
              </div>
            </div>

            <div class="col-md-3 col-sm-4 col-6">
              <div class="avatar-container text-center">
                <img class="img-avatar" src="http://thuthuatphanmem.vn/uploads/2018/04/10/avatar-doi-dep-7_015655528.jpg" alt="avatar">
                <p style="margin: 5px">This is position</p>
                <button class="btn btnContact">Follow</button>
              </div>
            </div>

            <div class="col-md-3 col-sm-4 col-6">
              <div class="avatar-container text-center">
                <img class="img-avatar" src="http://thuthuatphanmem.vn/uploads/2018/04/10/avatar-doi-dep-7_015655528.jpg" alt="avatar">
                <p style="margin: 5px">This is position</p>
                <button class="btn btnContact">Follow</button>
              </div>
            </div>

          </div>
        </form>
      </div>

    </div>

    <div class="row getstarted-footer">

      <div class="col-md-6 col-6 text-left">
        <button class="btn btn-navi" (click)="moveStep(-1)">
          <i class="fa fa-angle-left" aria-hidden="true"></i>
        </button>
      </div>
      <div class="col-md-6 col-6 text-right">
        <button *ngIf="step < 4" class="btn btn-navi" (click)="moveStep(1)">
          <i class="fa fa-angle-right" aria-hidden="true"></i>
        </button>
        <button *ngIf="step === 4" class="btn btn-success" (click)="doRegister()"  style="margin-top: 20px">
          {{this.translate.data.button.done | translate}}
        </button>
      </div>

    </div>

  </div>
</section>
